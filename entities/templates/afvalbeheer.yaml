---
- sensor:
    - unique_id: d9ba37d0-deeb-45f4-a392-62f323eba9c0
      default_entity_id: sensor.afval_sortibak
      name: Sortibak
      icon: mdi:delete-empty
      state: >-
        {%- set tracker_sensor = states('sensor.omrin_sortibak') -%}
        {%- set tracker_timestamp = as_timestamp(tracker_sensor) %}
        {%- set wdays = ["zo", "ma", "di", "wo", "do", "vr", "za"] %}
        {%- set wday =  tracker_timestamp | timestamp_custom('%w') | int %}
        {%- set _months = ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december"] -%}
        {%- set months = ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec"] -%}
        {%- set month =  tracker_timestamp | timestamp_custom('%m') | int -1 %}
        {%- set tracker_day = tracker_timestamp | timestamp_custom(wdays[wday]) %}
        {%- set tracker_month = tracker_timestamp | timestamp_custom(months[month]) %}
        {% if is_state_attr('sensor.omrin_sortibak', 'Days_until', 2) %}Overmorgen
        {% elif is_state_attr('sensor.omrin_sortibak', 'Days_until', 1) %}Morgen
        {% elif is_state_attr('sensor.omrin_sortibak', 'Days_until', 0) %}Vandaag
        {% else %}{{ tracker_timestamp | timestamp_custom(tracker_day + ' %-d ' + tracker_month) }}
        {% endif %}
      attributes:
        days_until: "{{ state_attr('sensor.omrin_sortibak', 'Days_until') }}"

    - unique_id: 4ea61b7d-f19a-47ec-9443-ce0ff1a799fd
      default_entity_id: sensor.afval_gft
      name: Biobak
      icon: mdi:food-apple
      state: >-
        {%- set tracker_sensor = states('sensor.omrin_gft') -%}
        {%- set tracker_timestamp = as_timestamp(tracker_sensor) %}
        {%- set wdays = ["zo", "ma", "di", "wo", "do", "vr", "za"] %}
        {%- set wday =  tracker_timestamp | timestamp_custom('%w') | int %}
        {%- set _months = ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december"] -%}
        {%- set months = ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec"] -%}
        {%- set month =  tracker_timestamp | timestamp_custom('%m') | int -1 %}
        {%- set tracker_day = tracker_timestamp | timestamp_custom(wdays[wday]) %}
        {%- set tracker_month = tracker_timestamp | timestamp_custom(months[month]) %}
        {% if is_state_attr('sensor.omrin_gft', 'Days_until', 2) %}Overmorgen
        {% elif is_state_attr('sensor.omrin_gft', 'Days_until', 1) %}Morgen
        {% elif is_state_attr('sensor.omrin_gft', 'Days_until', 0) %}Vandaag
        {% else %}{{ tracker_timestamp | timestamp_custom(tracker_day + ' %-d ' + tracker_month) }}
        {% endif %}
      attributes:
        days_until: "{{ state_attr('sensor.omrin_gft', 'Days_until') }}"

    - unique_id: f8bc7e0f-ffd7-4d61-8502-c5ed5b629ca1
      default_entity_id: sensor.afval_papier
      name: Papierbak
      icon: mdi:newspaper
      state: >-
        {%- set tracker_sensor = states('sensor.omrin_papier') -%}
        {%- set tracker_timestamp = as_timestamp(tracker_sensor) %}
        {%- set wdays = ["zo", "ma", "di", "wo", "do", "vr", "za"] %}
        {%- set wday =  tracker_timestamp | timestamp_custom('%w') | int %}
        {%- set _months = ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december"] -%}
        {%- set months = ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec"] -%}
        {%- set month =  tracker_timestamp | timestamp_custom('%m') | int -1 %}
        {%- set tracker_day = tracker_timestamp | timestamp_custom(wdays[wday]) %}
        {%- set tracker_month = tracker_timestamp | timestamp_custom(months[month]) %}
        {% if is_state_attr('sensor.omrin_papier', 'Days_until', 2) %}Overmorgen
        {% elif is_state_attr('sensor.omrin_papier', 'Days_until', 1) %}Morgen
        {% elif is_state_attr('sensor.omrin_papier', 'Days_until', 0) %}Vandaag
        {% else %}{{ tracker_timestamp | timestamp_custom(tracker_day + ' %-d ' + tracker_month) }}
        {% endif %}
      attributes:
        days_until: "{{ state_attr('sensor.omrin_papier', 'Days_until') }}"
